\textbf{Design a data structure that uses $O(n^2)$ space and answers queries in $O(1)$ time.}\vspace{.2cm}

\textcolor{bibi}{DP con matriz}
\begin{quote}
    Primero que nada vamos a crear una matriz usando $dp[i][j] = \min\{x_i, x_{i+1}, \dots, x_j\}$, es obvio que esta matriz tiene un tama√±o de $n \times n$ para considerar todos los rangos posibles. Si se llena mal puede subir mucho la complejidad aunque no afecta a lo que nos estan pidiendo pero, para llenarla eficientemente vamos a usar DP. Empezamos llenando la diagonal con los valores de $x_i$ (el minimo de un solo elemento) y usamos la siguiente funcion de recurrencia para llenar la matriz:
    \begin{equation*}
        dp[i][j] = \min\{dp[i][j-1], x_j\} ; \quad i < j
    \end{equation*}

    Ahora, para responder a las queries simplemente devolvemos $dp[i][j]$ que es constante y no depende de $n$ aunque el precomputo tarda $O(n^2)$. \vspace{.2cm}

    \textbf{Ejemplo: }\vspace{.2cm} 

    Supongamos que tenemos el arreglo $x = [3, 1, 4, 1, 5]$ y queremos llenar la matriz $dp$:
    \[
    \begin{array}{|c|c|c|c|c|c|}
    \hline
    i \backslash j & 1 & 2 & 3 & 4 & 5 \\
    \hline
    1 & 3 & 1 & 1 & 1 & 1 \\
    \hline
    2 &   & 1 & 1 & 1 & 1 \\
    \hline
    3 &   &   & 4 & 1 & 1 \\
    \hline
    4 &   &   &   & 1 & 1 \\
    \hline
    5 &   &   &   &   & 5 \\
    \hline
    \end{array}
    \] \vspace{.2cm}

    Notemos que la matriz solo se llena en la diagonal principal y por encima de ella, el resto de las celdas no se llenan puesto que no tiene sentido el rango $x_3, x_2$ por ejemplo. \vspace{.2cm}
\end{quote}